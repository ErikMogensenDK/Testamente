variables:
  baseUrl: "http://localhost:5201/api"
  guid: "80c03dfd-5034-44fd-a042-32df6ebf51bc"
  autoGeneratedId: $(guid) 


requests:
  - url: "$(baseUrl)/Person/$(guid)"
    method: get
    asserts:
      statusCodeEquals: 200
      javascriptAsserts:
        - name: "Has expected Id" 
          code: "response.id === '$(guid)'"

  - url: "$(baseUrl)/Person/$(guid)"
    method: Post 
    jsonBody:
      Name: "Test_name"
      BirthDate: "2025-01-01"
      Address: "En eller anden vej - også bare en test<"
      IsAlive: true
    asserts:
      statusCodeEquals: 200

  # - url: "$(baseUrl)/Person/$(autoGeneratedId)"
  #   method: Post 
  #   jsonBody:
  #     Name: "Test_name"
  #     BirthDate: "2025-01-01"
  #     Address: "En eller anden vej - også bare en test<"
  #     IsAlive: true
  #   asserts:
  #     statusCodeEquals: 200

  # - url: "$(baseUrl)/Person/$(autoGeneratedId)"
  #   method: get
  #   asserts:
  #     statusCodeEquals: 200
  #     javascriptAsserts:
  #       - name: "New object found in database with expected Id" 
  #         code: "response.id === '$(autoGeneratedId)'"

