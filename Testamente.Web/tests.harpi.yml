variables:
  baseUrl: "http://localhost:5201/api"
  guid: "80c03dfd-5034-44fd-a042-32df6ebf51bc"
  autoGeneratedId: $(guid) 
  testGuid: "4F809BF0-C5B3-4498-BE81-AE565885C74A"


requests:
   - url: "$(baseUrl)/Person/$(guid)"
     method: get
     asserts:
       statusCodeEquals: 200
       javascriptAsserts:
         - name: "Has expected Id" 
           code: "response.id === '$(guid)'"

   - url: "$(baseUrl)/Person/$(autoGeneratedId)"
     method: Post 
     jsonBody:
       Name: "Test_name"
       BirthDate: "2025-01-01"
       Address: "En eller anden vej - også bare en test<"
       IsAlive: true
       FatherId: '$(guid)'
     asserts:
       statusCodeEquals: 200

   - url: "$(baseUrl)/Person/$(autoGeneratedId)"
     method: Put 
     jsonBody:
       Name: "Ændret test_navn"
       BirthDate: "1975-01-01"
       Address: "nyt navn, ændret efter oprettelse"
       IsAlive: true
       FatherId: '$(guid)'
     asserts:
       statusCodeEquals: 200

   - url: "$(baseUrl)/Person/$(autoGeneratedId)"
     method: get
     asserts:
       statusCodeEquals: 200
       javascriptAsserts:
         - name: "Newly created object exists in database with expected Id" 
           code: "response.id === '$(autoGeneratedId)'"

   - url: "$(baseUrl)/Person/$(autoGeneratedId)"
     method: delete
     asserts:
       statusCodeEquals: 200

   - url: "$(baseUrl)/Person/$(autoGeneratedId)"
     method: get
     asserts:
       statusCodeEquals: 404 

  # - url: "$(baseUrl)/Person/$(testGuid)"
  #   method: delete
  #   asserts:
  #     statusCodeEquals: 200

